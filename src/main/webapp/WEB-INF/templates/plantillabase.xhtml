<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="./css/default.css"/>
        <h:outputStylesheet name="./css/cssLayout.css"/>
        <title>Facelets Template</title>
        <f:event type="preRenderView" listener="#{plantillaController.verificarSession()}"></f:event>
        <script>
        PrimeFaces.locales['es'] = {
                closeText: 'Cerrar',
                prevText: 'Anterior',
                nextText: 'Siguiente',
                monthNames: ['Enero','Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun','Jul','Ago','Sep','Oct','Nov','Dic'],
                dayNames: ['Domingo','Lunes','Martes','Miércoles','Jueves','Viernes','Sábado'],
                dayNamesShort: ['Dom','Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                dayNamesMin: ['D','L','M','M','J','V','S'],
                weekHeader: 'Semana',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                timeOnlyTitle: 'Sólo hora',
                timeText: 'Tiempo',
                hourText: 'Hora',
                minuteText: 'Minuto',
                secondText: 'Segundo',
                currentText: 'Fecha actual',
                ampm: false,
                month: 'Mes',
                week: 'Semana',
                day: 'Día',
                allDayText : 'Todo el día'
        };
           
        </script>
        
    </h:head>

    <h:body>
        <div id="top">
<h:form>  
    <p:growl id="messages"/>
 
    <p:menubar>
        <p:submenu label="Ordenes de Trabajo" icon="ui-icon-folder-collapsed" rendered="#{plantillaController.obtenerRole()==2 or plantillaController.obtenerRole()==1}" >
            <p:submenu label="Ordenes de Trabajo" icon="">
                 <p:menuitem value="Ingresar" url="/operativo/principal.xhtml" />
                 <p:separator />
                 <p:menuitem value="Modificar" url="/operativo/modificar.xhtml" />
                 <p:separator />
                 <p:menuitem value="Eliminar" url="/operativo/eliminar.xhtml" />
            </p:submenu>
            <p:menuitem value="Vehiculos" url="/operativo/vehiculos.xhtml" icon="ui-icon-folder-open" />
            <p:menuitem value="Colores Vehic." url="/operativo/colores.xhtml" icon="ui-icon-folder-open" />
            <p:menuitem value="Clientes" url="/operativo/clientes.xhtml" icon="ui-icon-folder-open" />
            <p:menuitem value="Reportes OT" url="/operativo/reportesot.xhtml" icon="ui-icon-folder-open" />
        </p:submenu>
 
        <p:submenu label="Costo MO" icon="ui-icon-folder-collapsed" rendered="#{plantillaController.obtenerRole()==3 or plantillaController.obtenerRole()==1 or plantillaController.obtenerRole()==4}">
            <p:menuitem value="Asignar Costo" url="/gerente/establecimientoCostosmo.xhtml" icon="ui-icon-folder-open" />
            <p:menuitem value="Costos MO Asignados" url="/gerente/costosmoAsignado.xhtml" icon="ui-icon-folder-open" rendered="#{plantillaController.obtenerRole()==3 or plantillaController.obtenerRole()==1}" />
            <p:menuitem value="Reportes" url="/gerente/reportesg.xhtml" icon="ui-icon-folder-open" rendered="#{plantillaController.obtenerRole()==3 or plantillaController.obtenerRole()==1}" />
        </p:submenu>
 
        <p:submenu label="Asignacion de Operarios" icon="ui-icon-folder-collapsed" rendered="#{plantillaController.obtenerRole()==4 or plantillaController.obtenerRole()==1 or plantillaController.obtenerRole()==3}">
           <p:menuitem value="Ordenes por Asignar" url="/jefetaller/listaOrdenesporasignar.xhtml" icon="ui-icon-folder-open" />
           <p:menuitem value="Ordenes Asignadas" url="/jefetaller/ordenesAsignadas.xhtml" icon="ui-icon-folder-open" />
           <p:menuitem value="Ordenes Planilla" url="/jefetaller/ordenesPlanilla.xhtml" icon="ui-icon-folder-open" rendered="#{plantillaController.obtenerRole()==3 or plantillaController.obtenerRole()==1 or plantillaController.obtenerRole()==4}"  />
           <p:menuitem value="Consultas OT Pagadas" url="/jefetaller/consultasot.xhtml" icon="ui-icon-folder-open" rendered="#{plantillaController.obtenerRole()==3 or plantillaController.obtenerRole()==1 or plantillaController.obtenerRole()==4}"  />
           <p:menuitem value="Reportes OT" url="/jefetaller/reportesotj.xhtml" icon="ui-icon-folder-open" rendered="#{plantillaController.obtenerRole()==3 or plantillaController.obtenerRole()==1 or plantillaController.obtenerRole()==4}" />
        </p:submenu>
        
         <p:submenu label="Planilla" icon="ui-icon-folder-collapsed" rendered="#{plantillaController.obtenerRole()==5 or plantillaController.obtenerRole()==1}">
           <p:menuitem value="Ingreso de Operarios" url="/contabilidad/ingresooperarios.xhtml" icon="ui-icon-folder-open" />
           <p:menuitem value="Descuentos a Operarios" url="/contabilidad/descuentos.xhtml" icon="ui-icon-folder-open" />
           <p:submenu label="Planilla" icon="">
                 <p:menuitem value="Calcular Planilla" url="/contabilidad/calcularplanilla.xhtml" />
                 <p:separator />
                 <p:menuitem value="Imprimir Planilla" url="/contabilidad/imprimirPlanilla.xhtml" />    
           </p:submenu>
           <p:menuitem value="Reportes Planilla" url="/contabilidad/reportesplanilla.xhtml" icon="ui-icon-folder-open" />
        </p:submenu>
        <f:facet name="options">
            <p:inputText style="margin-right:10px" placeholder="Search"/>
            <p:commandButton value="Cerrar Sesion" icon="ui-icon-extlink" 
                             actionListener="#{plantillaController.cerrarSesion()}" action="/index?faces-redirect=true" />
        </f:facet>
    </p:menubar>
</h:form>
        </div>

        <div id="content" class="center_content">
            <ui:insert name="content">Content</ui:insert>
        </div>

        <div id="bottom">
            <ui:insert name="bottom">Bottom</ui:insert>
        </div>

    </h:body>

</html>
